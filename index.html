<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Developer J.K.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="iOS,php,mysql,objective-c,javascript,html,html5">
<meta property="og:type" content="website">
<meta property="og:title" content="Developer J.K.">
<meta property="og:url" content="http://jaykon.github.io/index.html">
<meta property="og:site_name" content="Developer J.K.">
<meta property="og:description" content="iOS,php,mysql,objective-c,javascript,html,html5">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Developer J.K.">
<meta name="twitter:description" content="iOS,php,mysql,objective-c,javascript,html,html5">
  
    <link rel="alternate" href="/atom.xml" title="Developer J.K." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Developer J.K.</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">明明可以靠颜值吃饭但偏偏想要写代码做产品的jaykon</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jaykon.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Apple-iOS-Rejects-Collection" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/21/Apple-iOS-Rejects-Collection/" class="article-date">
  <time datetime="2016-03-21T08:28:02.000Z" itemprop="datePublished">2016-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/21/Apple-iOS-Rejects-Collection/">Apple iOS Rejects Collection</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>翻了一下记录才发现，第一次被苹果决绝已经是很久以前的事情，从2012年6月14号通过了第一个用黑苹果开发的应用<a href="https://itunes.apple.com/cn/app/tian-xia3/id524674532?mt=8" target="_blank" rel="external">《天下3》</a>，然后就不断和苹果审核团队过招，但一直没有把一些教训记下来，现在刚好有需要就整理一下。</p>
<p><strong>苹果审核被拒绝大全，不断更新</strong></p>
<h2 id="Metadata-部分"><a href="#Metadata-部分" class="headerlink" title="Metadata 部分"></a>Metadata 部分</h2><ol>
<li>App标题不要明显地堆砌关键字，过度ASO会被拒绝</li>
<li>哪怕你的软件是17+，但是，在AppStore的介绍的图片和内容必须是4+的，</li>
<li>产品介绍和介绍图不要出现的字眼，尿性如：逼格、逗比（逼）、牛逼、绿茶婊，苹果婊…</li>
<li>介绍不要提及隐藏起来的功能（为什么要隐藏，你懂的 #_#）</li>
<li>对于App本身的描述，不要出现”demo”、”trial”、 “test”、”测试版”、”Beta“</li>
<li>不要提及其它平台或产品字眼或图片，比如”Android”，其它品牌手机</li>
<li>因为后台一直调用定位信息，需要在app描述里附上一句“持续调用位置信息会很快消耗电池电量”。</li>
</ol>
<h2 id="功能部分"><a href="#功能部分" class="headerlink" title="功能部分"></a>功能部分</h2><ol>
<li>不要有”检查版本更新“这个功能</li>
<li>不要出现”敬请期待“、”即将推出“等占位符元素或入口，未完成就不要出现</li>
<li>操纵或欺骗用户影响app排名的行为是禁止的，比如引导用户五星好评等</li>
<li>支付苹果管得严格大家都懂的，总的来说：苹果不允许使用外部支付来购买内部的功能，不允许使用内部支付（IAP）购卖外部的实物,购买的积分，虚拟币只能在应用内部使用</li>
<li>赌博和竞赛的支持方一定是应用的公司，并且明显表示和苹果无关</li>
<li>真钱赌博，必须符合当地法规，并且必须免费，不能使用IAP充值</li>
<li>有排行榜时，用户填资料时需要弹出给用户知情，他的资料会参与排行榜。（游戏类应用经常会因这个被拒）</li>
<li>用了QQ第三方登陆，如果用户没有安装QQ的话，使用QQ登录会进入引导下载QQ页面，结果被苹果退回审核</li>
<li>App没有自己的账号体系，只采用了第三方登陆被拒</li>
<li>上传苹果时一个非必填的隐私条款的URL未填</li>
<li>需要用户注册，获取用户信息时，必须要有”隐私条款”</li>
<li>注册的时候，账号格式不要只限定邮箱，可以是其他格式，如果限定死，就会被拒。</li>
<li>注册时，苹果要求性别和头像都可以非必填。</li>
<li>如果软件需要用户注册才能使用，建议在审核备注里说明注册的必要性，免得浪费时间和他们扯皮</li>
</ol>
<h2 id="Apple-Watch"><a href="#Apple-Watch" class="headerlink" title="Apple Watch"></a>Apple Watch</h2><ol>
<li>因为在Apple Watch上面显示了时间被拒绝了，理由是你目前不能这样做</li>
</ol>
<h2 id="Extentions"><a href="#Extentions" class="headerlink" title="Extentions"></a>Extentions</h2><ol>
<li>Extentions不能含有广告、营销、支付的功能</li>
</ol>
<h2 id="APP内容部分"><a href="#APP内容部分" class="headerlink" title="APP内容部分"></a>APP内容部分</h2><ol>
<li>UGC产品没有举报功能被拒</li>
<li>涉及到奖励，要显著表明和苹果无关，奖品尽量不要使用苹果产品</li>
<li>不要拼错苹果产品名称，比如Iphone,iphone，IOS,ios等会被拒</li>
</ol>
<h2 id="视觉和交互部分"><a href="#视觉和交互部分" class="headerlink" title="视觉和交互部分"></a>视觉和交互部分</h2><ol>
<li>按钮不能点击需要呈现一种不能点击的视觉，比如置灰或隐藏</li>
<li>网络读取内容为空时，需要有空状态，否则苹果会认为异常拒绝</li>
<li>界面和功能不能和苹果已有应用太像</li>
<li>出现和iphone桌面一样的ui风格（就是说出现圆角的icon并且按照桌面风格排列）被拒</li>
<li>不要隐藏Status Bar,或将其用作提示区域</li>
<li>符合<a href="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/" target="_blank" rel="external">《iOS Human Interface Guidelines》</a>  <a href="https://developer.apple.com/watch/human-interface-guidelines/" target="_blank" rel="external">《Apple Watch Human Interface Guidelines》</a></li>
</ol>
<h2 id="技术部分"><a href="#技术部分" class="headerlink" title="技术部分"></a>技术部分</h2><ol>
<li>任何界面，不能出现加载不出来的错误，比如必现的“网络错误”。</li>
<li>运行在iPad上不要有什么异常状况，苹果基本上用iPad进行使用审核（穷嘛）。</li>
<li>有个内置的IAP收费的VIP商品，我们我们用的是Consumable类型，苹果认为这个是持续性的应该算是Auto-renewable subscriptions，所以被拒（要选对商品类型）</li>
<li>本地储存要符合<a href="https://developer.apple.com/icloud/documentation/data-storage/index.html" target="_blank" rel="external">iOS Data Storage Guidelines </a>,比如不要将没必要的大文件放进itunes同步</li>
</ol>
<h2 id="附：赌博部分Guideline"><a href="#附：赌博部分Guideline" class="headerlink" title="附：赌博部分Guideline"></a>附：赌博部分Guideline</h2><ol>
<li>竞赛、赌博、彩票以及抽奖</li>
<li>赌博和竞赛必须由应用程序的开发者或者app所属公司发起。</li>
<li>应用程序必须展示赌博和竞赛的正式规则，并声明苹果不是发起者，也没有以任何方式参与活动。</li>
<li>开发者运营一款具有抽奖性质的应用必须经过法律允许，并且抽奖应用必须具备以下特征：报酬、机会以及奖品。</li>
<li>允许用户在应用中直接购买彩票或彩券的应用将会被拒。</li>
<li>提供真钱游戏（比如体育博彩、扑克牌、赌场游戏以及赛马）的应用程序必须有应用使用区当地必要的许可和允许，必须限制在这些区域，必须可以从App Store免费下载。</li>
<li>使用IAP购买信誉或者货币，且结合真钱游戏的应用将会被拒绝。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2016/03/21/Apple-iOS-Rejects-Collection/" data-id="cim4apr8f000f40uvn1bzmr55" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Git的日常" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/15/Git的日常/" class="article-date">
  <time datetime="2016-03-15T07:02:16.000Z" itemprop="datePublished">2016-03-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/15/Git的日常/">Git的日常</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一步当然把代码Clone下来进进行管理"><a href="#第一步当然把代码Clone下来进进行管理" class="headerlink" title="第一步当然把代码Clone下来进进行管理"></a>第一步当然把代码Clone下来进进行管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@192.168.1.1:xxx.git</span><br></pre></td></tr></table></figure>
<h2 id="习惯性动作"><a href="#习惯性动作" class="headerlink" title="习惯性动作"></a>习惯性动作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">//当面代码有哪些文件修改了</span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">//当前所在分支</span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">//更新代码</span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line">//查看提交记录</span><br><span class="line">git log</span><br><span class="line"></span><br><span class="line">//将新增的文件加入版本管理</span><br><span class="line">git add .       //全部加入</span><br><span class="line">git add [file]  //单个加入</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//提交代码：建议每完成一件事都提交代码，注释很重要</span><br><span class="line">git commit -a -m&quot;我随意改一下，别生气&quot;</span><br><span class="line"></span><br><span class="line">//将代码推到服务端</span><br><span class="line">git push </span><br><span class="line"></span><br><span class="line">//从当前分支新建分支</span><br><span class="line">git checkout -b dev</span><br><span class="line">git push --set-upstream origin dev //当这个分支需要推送到服务器时，须执行如下指令</span><br><span class="line"></span><br><span class="line">//切换分支</span><br><span class="line">git checkout dev</span><br><span class="line"></span><br><span class="line">//将dev合并到当前分支 </span><br><span class="line">git merge dev</span><br></pre></td></tr></table></figure>
<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//删除本地分支</span><br><span class="line">git branch -D dev</span><br><span class="line"></span><br><span class="line">//删除远程分支</span><br><span class="line">git push origin --delete dev</span><br></pre></td></tr></table></figure>
<h2 id="查看本地和远程分支"><a href="#查看本地和远程分支" class="headerlink" title="查看本地和远程分支"></a>查看本地和远程分支</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure>
<h2 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//新增tag</span><br><span class="line">git tag v2.2.0</span><br><span class="line"></span><br><span class="line">//推送到服务器</span><br><span class="line">git push —-tags</span><br><span class="line"></span><br><span class="line">//删除tag</span><br><span class="line">git tag -d v1.0.0</span><br><span class="line"></span><br><span class="line">//从服务器删除tag</span><br><span class="line">git push origin :refs/tags/v1.0.0</span><br></pre></td></tr></table></figure>
<h2 id="恢复到某个版本"><a href="#恢复到某个版本" class="headerlink" title="恢复到某个版本"></a>恢复到某个版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//首先，查看一下版本记录</span><br><span class="line">git log  //每次提交都写注释的好处来了</span><br><span class="line"></span><br><span class="line">//挑一个版本号进行恢复</span><br><span class="line">git reset –-hard 9aa51d89799716aa68cff3f30c26f8815408e926</span><br></pre></td></tr></table></figure>
<h2 id="单独文件恢复到某个版本"><a href="#单独文件恢复到某个版本" class="headerlink" title="单独文件恢复到某个版本"></a>单独文件恢复到某个版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//查看文件修改记录</span><br><span class="line">git log -p /model/abc.xib  </span><br><span class="line"></span><br><span class="line">//恢复文件</span><br><span class="line">git reset 9aa51d89799716aa68cff3f30c26f8815408e926 [文件路径]</span><br><span class="line"></span><br><span class="line">//如查本地正在编辑且未commit这个文件，需要checkout一下</span><br><span class="line">git checkout /model/abc.xib</span><br></pre></td></tr></table></figure>
<h2 id="直接在远程恢复到某个版本（一般很少用到）"><a href="#直接在远程恢复到某个版本（一般很少用到）" class="headerlink" title="直接在远程恢复到某个版本（一般很少用到）"></a>直接在远程恢复到某个版本（一般很少用到）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit-hash&gt;</span><br><span class="line">git push -f origin &lt;branch&gt;</span><br></pre></td></tr></table></figure>
<h2 id="正在开发，须要去修改别的分支的BUG，但又不想提交当前代码"><a href="#正在开发，须要去修改别的分支的BUG，但又不想提交当前代码" class="headerlink" title="正在开发，须要去修改别的分支的BUG，但又不想提交当前代码"></a>正在开发，须要去修改别的分支的BUG，但又不想提交当前代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//现在代码变成最后提交的版本，刚刚正在编辑的代码已经暂存到缓存区</span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line">//切换到另一分支修改代码</span><br><span class="line">git checkout dev</span><br><span class="line">git commit -a -m&quot;修改紧急的BUG&quot;</span><br><span class="line">git push</span><br><span class="line"></span><br><span class="line">//回到原来的分支</span><br><span class="line">git checkout </span><br><span class="line"></span><br><span class="line">//恢复现场，可以继续开心地coding</span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>
<p>暂时只想到这么多了，有更好用的场景求指点</p>
<p>其实更重要的是版本管理的策略和思路，具体可见文章  <a href="http://www.ruanyifeng.com/blog/2012/07/git.html" target="_blank" rel="external">《Git分支管理策略》</a>  <a href="https://git-scm.com/book/zh/v2" target="_blank" rel="external">《Git手册》</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2016/03/15/Git的日常/" data-id="cim4apr85000c40uvppovci2r" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/开发/">开发</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sheng-ji-yosemite-xcode6-hou-,cocoapodswen-ti" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/12/sheng-ji-yosemite-xcode6-hou-,cocoapodswen-ti/" class="article-date">
  <time datetime="2014-11-12T11:46:14.000Z" itemprop="datePublished">2014-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/12/sheng-ji-yosemite-xcode6-hou-,cocoapodswen-ti/">升级Yosemite + Xcode6 后，cocoapods问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>升级后，首先终端执行pod指令报错，需要重新安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem uninstall cocoapods</span><br></pre></td></tr></table></figure>
<p>然后可能有选项<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Select gem to uninstall:</span><br><span class="line"> 1. cocoapods-0.29.0</span><br><span class="line"> 2. cocoapods-0.32.1</span><br><span class="line"> 3. cocoapods-0.33.1</span><br><span class="line"> 4. All versions</span><br><span class="line">&gt; 4</span><br><span class="line"></span><br><span class="line">in addition to the gem? [Yn]  n</span><br></pre></td></tr></table></figure></p>
<p>再执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install xcodeproj</span><br></pre></td></tr></table></figure></p>
<p>接着安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods</span><br></pre></td></tr></table></figure></p>
<p>测试是否安装成功<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod --version</span><br></pre></td></tr></table></figure></p>
<p>版本0.34后，可以项目会因为找不到 ”../Pods/Pods-environment.h“</p>
<p>找到类似以下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#ifdef COCOAPODS</span><br><span class="line">#import &quot;../Pods/Pods-environment.h&quot;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></p>
<p>改为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#if __has_include(&quot;Pods-environment.h&quot;)</span><br><span class="line">#import &quot;Pods-environment.h&quot;</span><br><span class="line">#else</span><br><span class="line">do something......</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/11/12/sheng-ji-yosemite-xcode6-hou-,cocoapodswen-ti/" data-id="cim4apr7i000540uvenq9tl39" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ioskai-fa-zhong-de-xiao-po-shi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/29/ioskai-fa-zhong-de-xiao-po-shi/" class="article-date">
  <time datetime="2014-10-29T02:55:28.000Z" itemprop="datePublished">2014-10-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/29/ioskai-fa-zhong-de-xiao-po-shi/">iOS开发中的小破事</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##*模拟器无法响应电脑键盘<br>进入 ~/Library/Preferences<br>删除 “com.apple.iphonesimulator.plist”<br>重新启动模拟器</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/10/29/ioskai-fa-zhong-de-xiao-po-shi/" data-id="cim4apr7e000440uvjssra3e3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-shen-he-bei-ju-,jian-cha-di-san-fang-jie-kou-bei-diao-yong-qing-kuang" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/19/shen-he-bei-ju-,jian-cha-di-san-fang-jie-kou-bei-diao-yong-qing-kuang/" class="article-date">
  <time datetime="2014-07-19T02:44:22.000Z" itemprop="datePublished">2014-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/19/shen-he-bei-ju-,jian-cha-di-san-fang-jie-kou-bei-diao-yong-qing-kuang/">审核被拒，检查第三方接口被调用情况</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>收到苹果的拒绝： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Reasons Program License Agreement PLA 3.3.12</span><br><span class="line"></span><br><span class="line">We found your app uses the iOS Advertising Identifier but does not include ad functionality. This does not comply with the terms of the iOS Developer Program License Agreement, as required by the App Store Review Guidelines.</span><br><span class="line"></span><br><span class="line">Specifically, section 3.3.12 of the iOS Developer Program License Agreement states:</span><br><span class="line"></span><br><span class="line">&quot;You and Your Applications (and any third party with whom you have contracted to serve advertising) may use the Advertising Identifier, and any information obtained through the use of the Advertising Identifier, only for the purpose of serving advertising. If a user resets the Advertising Identifier, then You agree not to combine, correlate, link or otherwise associate, either directly or indirectly, the prior Advertising Identifier and any derived information with the reset Advertising Identifier.&quot;</span><br><span class="line"></span><br><span class="line">Please check your code - including any third-party libraries - to remove any instances of:</span><br><span class="line"></span><br><span class="line">class: ASIdentifierManager</span><br><span class="line">selector: advertisingIdentifier</span><br><span class="line">framework: AdSupport.framework</span><br><span class="line"></span><br><span class="line">If you are planning to incorporate ads in a future version, please remove the Advertising Identifier from your app until you have included ad functionality.</span><br><span class="line"></span><br><span class="line">To help locate the Advertising Identifier, use the “nm” tool. For information on the “nm” tool, open a terminal window and enter, “man nm.”</span><br><span class="line"></span><br><span class="line">If you do not have access to the libraries source, you may be able to search the compiled binary using the &quot;strings&quot; or &quot;otool&quot; command line tools. The &quot;strings&quot; tool lists the methods that the library calls, and &quot;otool -ov&quot; will list the Objective-C class structures and their defined methods. These techniques can help you narrow down where the problematic code resides.</span><br><span class="line"></span><br><span class="line">The third party libraries I&apos;m using is the latest version of parse.com sdk, latest version of flurry analytics, and version 2.2 of test flight. Does anybody know which library is the issue?</span><br></pre></td></tr></table></figure>
<p>因为使用了IDFA，但没苹果审核时没有看到广告。<br>我自己没有使用，但第三方类库就难说了，怎么检查呢？<br>查了一下stackoverflow，找到了方法：</p>
<p>在终端执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -r advertisingIdentifier . (最后这个点，非常关键)</span><br></pre></td></tr></table></figure>
<p>还有一个指令也非常有用，可以查看包内的接口调用情况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strings YoumiSDK_5.1.3/libYouMi.a</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/07/19/shen-he-bei-ju-,jian-cha-di-san-fang-jie-kou-bei-diao-yong-qing-kuang/" data-id="cim4apr75000240uvqekec37m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ios4-ios7ping-mu-xuan-zhuan-de-kong-zhi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/23/ios4-ios7ping-mu-xuan-zhuan-de-kong-zhi/" class="article-date">
  <time datetime="2014-06-23T08:30:06.000Z" itemprop="datePublished">2014-06-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/23/ios4-ios7ping-mu-xuan-zhuan-de-kong-zhi/">iOS4-iOS7屏幕旋转的控制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前做了一个应用，但由于整应用界面个都是竖屏，不允许横屏，所以一直没有关注这个，昨天开发一个图片预览的类库（类似系统的查看图片），其中一个特性当然需要支持横屏，所以就压找了一下资料，之前已经听闻在屏幕控制上，iOS6上有了比较坑爹的变化。比如，让视图支持正常坚屏和两种横屏，兼容的做法是：</p>
<pre><code>//for iOS4,iOS5
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation==UIInterfaceOrientationMaskLandscape);
}

//for iOS6
-(NSUInteger)supportedInterfaceOrientations{
    return UIInterfaceOrientationMaskLandscape;
}

- (BOOL)shouldAutorotate
{
    return YES;
}
</code></pre><p>还没有完事，在iOS4\5如果没有重写shouldAutorotateToInterfaceOrientation，则默认不旋转屏幕,而在iOS6上，如果没有重写shouldAutorotate和supportedInterfaceOrientations，则默认支持除UIInterfaceOrientationMaskPortraitUpsideDown外的3个高向。</p>
<p>最大的区别来了，iOS6顶层的controller（必须设置为window.rootViewController）决定了它及它下面所有子层的屏幕旋转属性，也就是说，如果顶层controller设为可旋转，它及它的子层不能设为不可旋转，相反亦然，因为子层的controller相关的supportedInterfaceOrientations和shouldAutorotate根本不会触发。</p>
<p>那如果现在有一个需求，非常常见，堆栈是window-&gt;navigationController-&gt;viewControllerA-&gt;viewControllerB<br>viewControllerA要求是竖直，viewControllerB要求可以支持多个方向。实际上这个在iOS6里面无法通过以前的方法实现，因为navigationController作为顶层controller决定了它的可旋转性。</p>
<p>比较方便的解决方法是，viewControllerB以presentModalViewController的方式出现，因为这样它不属于navigationController的堆栈,可以自行决定是否转向。</p>
<p>另一种方法是viewControllerB加入CoreMotion加速计，通过判断设备的手持方向来切换不同的视图，不过就比较麻烦了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/06/23/ios4-ios7ping-mu-xuan-zhuan-de-kong-zhi/" data-id="cim4apr8b000d40uvk6ss5o76" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ioskai-fa-zhong-de-yan-se-wen-ti" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/17/ioskai-fa-zhong-de-yan-se-wen-ti/" class="article-date">
  <time datetime="2014-06-17T12:34:36.000Z" itemprop="datePublished">2014-06-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/17/ioskai-fa-zhong-de-yan-se-wen-ti/">iOS开发中的颜色问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们通常拿到设计稿开始实现时，会在设计稿做标注，比如颜色，字号，间距等。之前发现一个问题，我在程序里实现的颜色和设计稿的不太一样。过程通常是这样的，在photoshop、markman或者mac系统自带的取色工具取到一个RGB颜色，默认制式是Adobe RGB，然后在xcode的调色板实现，或者代码</p>
<pre><code>[UIColor colorWithRed:15/255.0f green:120/255.0f blue:164/255.0f alpha:1]
</code></pre><p>咋一看好像没什么问题，但只要和设计稿对比起来，其实是有差别的，这里有一个坑，xcode调色板的颜色，和预览的颜色，到模拟器，再到真机，颜色都不太一样。到最后我们在真机截图，发回电脑，和设计稿对比色值，果然不一样。</p>
<p><img src="/upload/color_diff.png" alt="多种颜色不同"></p>
<p>这时候就有点蒙了，不知道程序上怎么实现才能和设计稿一样的颜色，特别在UI Builder的颜色制式有n种</p>
<p><img src="/upload/color_choice.png" alt="多种颜色选择"></p>
<p>最后发现，无论选哪种颜色制式，都是对不上photoshop的颜色的，最后找到解决方法如下：</p>
<p>用mac自带的取色工具，选中“以sRGB显示”来取设计稿的的颜色，然后这个颜色值用代码实现即可，如果用XIB,颜色制式选”Generic RBG“即可。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/06/17/ioskai-fa-zhong-de-yan-se-wen-ti/" data-id="cim4apr71000140uvo36g81sq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vim" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/11/vim/" class="article-date">
  <time datetime="2014-06-11T03:16:21.000Z" itemprop="datePublished">2014-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/11/vim/">MACVIM 上手笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>重新配置时，顺手重新整理一下这篇文章</p>
<p>##一、安装、配置</p>
<p>先下载它吧<br><a href="https://github.com/b4winckler/macvim/releases" target="_blank" rel="external">https://github.com/b4winckler/macvim/releases</a></p>
<p>安装完毕后，运行，发现不对，传说中的透明背景呢？别急，这里先配置一下：</p>
<p>Edit-&gt;StartUp Settig</p>
<pre><code>&quot;不兼容vi模式
set nocompatible
&quot;显示行号
set number
&quot;语法高亮
syntax on
&quot;按照C语法自动缩进
set cindent
&quot;设置缩进长度
&quot;详见http://dddspace.com/2010/03/vim-indentation-and-space-config.html
set tabstop=8
set shiftwidth=8
set softtabstop=8
set noexpandtab
&quot;显示括号对应
set showmatch
&quot;实时显示搜索结果
set incsearch
&quot;编码设置
set encoding=utf-8
set fileencodings=gb2312,ucs-bom,utf-8,utf-16,cp936,gb18030,big5,euc-jp,euc-kr,latin1
&quot;字体设置
set guifont=Arial_monospaced_for_SAP:h16
&quot;设置颜色主题
colorscheme torte
&quot;设置透明度
set transparency=20
</code></pre><p>保存重启即可。</p>
<p>##二：插件</p>
<p>装其它插件前，强列建义先安装pathogen.vim，它将大大减轻你管理和安装插件的复杂度。</p>
<p>pathogen.vimi<br><a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="external">https://github.com/tpope/vim-pathogen</a></p>
<pre><code>mkdir -p ~/.vim/autoload ~/.vim/bundle &amp;&amp; \
curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim
</code></pre><p>word_complete.vim  <a href="http://www.vim.org/scripts/script.php?script_id=73" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=73</a></p>
<p>一个自动补全的插件，它是跟据上下文进行的补全的，挺好用的</p>
<p>ZenCoding.vim  <a href="http://www.vim.org/scripts/script.php?script_id=2981" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=2981</a></p>
<p>有写HTML的对应个应该很清楚</p>
<p>The NERD tree<br><a href="http://www.vim.org/scripts/script.php?script_id=1658" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=1658</a></p>
<p>目录浏览，安装后默认不调用，可以配置快捷将其调用与隐藏<br>let mapleader = “,”<br>nmap n :NERDTreeToggle<br>这样，&lt;,+n&gt;即可调用</p>
<p>The NERD Commenter<br><a href="http://www.vim.org/scripts/script.php?script_id=1218）" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=1218）</a></p>
<p>在normal模式下进行快速注释，我常用到就下面几个：</p>
<p>&lt;,+cc&gt;注释当前行，或所选行，</p>
<p>&lt;,+space&gt;切换注释和不注释</p>
<p>&lt;,+cs&gt;多行注释</p>
<p>前面可以加数字来指定注释行数</p>
<p>syntastic<br><a href="https://github.com/scrooloose/syntastic" target="_blank" rel="external">https://github.com/scrooloose/syntastic</a></p>
<p>代码语法检查的接口，下载好后还是一样，放到buddle文件夹自动加载。</p>
<p>然后配置vimrc</p>
<pre><code>&quot;&quot;syntax
&quot;&quot; Set symbol characters
let g:syntastic_error_symbol=&apos;✗&apos;
let g:syntastic_warning_symbol=&apos;⚠&apos;
&quot;在打开文件的时候检查
let g:syntastic_check_on_open=1
&quot;&quot; Open and close error list console automatically
&quot;let g:syntastic_auto_loc_list=1
</code></pre><p>由于各个语言是要分别配置的，所以比较麻烦。</p>
<p>###php:</p>
<p>php比较方便，打开syntax_checkers/php.vim</p>
<p>找到display_errors=0改为display_errors=1</p>
<p>配置vimrc：</p>
<pre><code>et g:syntastic_phpcs_conf = &quot;--tab-width=4 --standard=CodeIgniter&quot;
let g:syntastic_stl_format = &apos;[%E{Err: %fe #%e}%B{, }%W{Warn: %fw #%w}]&apos;
</code></pre><p>这样就OK了，每次打开或保存时都会检查语法。</p>
<p>###javascript:</p>
<p>这个有点麻烦，要用到jshint</p>
<p>首先要安装npm，一个nodejs模块打包安装命令。</p>
<p><a href="http://nodejs.org/download/" target="_blank" rel="external">http://nodejs.org/download/</a></p>
<p>安装完毕之后，在终端执行下面指令，安装jshint：</p>
<pre><code>sudo npm install jshint -g
</code></pre><p>输入密码，回车</p>
<p>等它安装完后，输入终端jshint,有响应即代表安装成功。</p>
<p>然后配置vimrc：</p>
<pre><code>&quot;&quot; Choose a Javascript syntax checker
let g:syntastic_javascript_syntax_checker=&quot;jshint&quot;
let g:syntastic_javascript_jshint_conf=&quot;~/jshintrc.json&quot;
</code></pre><p>可以看到上面有个路径”~/jshintrc.json”，它用来配置检查器的风格，这是jshint和jslint最大的区别。</p>
<p>新建一个json文件，/用户/[yourname]/jshintrc.json，内容如下：</p>
<p>{curly:true}</p>
<p>意思为在if/for等block必须使用{}，否则报错，更多配置请移步</p>
<p><a href="http://jshint.org/docs/" target="_blank" rel="external">http://jshint.org/docs/</a></p>
<p>##三、技巧</p>
<p>###1）转编码：<br>在Vim中直接进行转换文件编码,比如将一个文件转换成utf-8格式</p>
<p>   :set fileencoding=utf-8</p>
<p>enconv 转换文件编码，比如要将一个GBK编码的文件转换成UTF-8编码，操作如下</p>
<p>enconv -L zh_CN -x UTF-8 filename（这个命令对windows的ANSI编码非常有效）。</p>
<p>iconv 转换，iconv的命令格式如下：</p>
<p>iconv -f encoding -t encoding inputfile</p>
<p>比如将一个UTF-8 编码的文件转换成GBK编码</p>
<p>iconv -f GBK -t UTF-8 file1 -o file2</p>
<p>###2）查找替换</p>
<pre><code>:%s/foo/bar/g
Find each occurrence of ‘foo’ (in all lines), and replace it with ‘bar’.
:s/foo/bar/g
Find each occurrence of ‘foo’ (in the current line only), and replace it with ‘bar’.
:%s/foo/bar/gc
Change each ‘foo’ to ‘bar’, but ask for confirmation first.
:%s/\&lt;foo\&gt;/bar/gc
Change only whole words exactly matching ‘foo’ to ‘bar’; ask for confirmation.
:%s/foo/bar/gci
Change each ‘foo’ (case insensitive) to ‘bar’; ask for confirmation.
This may be wanted after using :set noignorecase to make searches case sensitive (the default).
:%s/foo/bar/gcI
Change each ‘foo’ (case sensitive) to ‘bar’; ask for confirmation.
This may be wanted after using :set ignorecase to make searches case insensitive.
</code></pre><p>##四、问题</p>
<p>###中文输入法：<br>我用的是QQ五笔，但在编辑模式中输入中文时，常常会触发MacVim的命令，原因是输是输入法没有完全截获按键；<br>解决方法:在命令行输入以下命令</p>
<pre><code>defaults write org.vim.MacVim MMUseInlineIm 0
</code></pre><p>##五、在终端启动</p>
<p>下载后有一个mvim文件，将其拷贝到<br>    $sudo cp -f mvim /usr/bin/</p>
<p>这里在终端通过mvim指令即可运行或编辑文件，编辑文件每次都是新建窗口，让他支持tab可以编辑这个mvim文件，首行加上<br>Shell</p>
<pre><code>tabs=true
</code></pre><p>然后最后一个if 块替换成</p>
<pre><code># Last step:  fire up vim.
if [ &quot;$gui&quot; ]; then
  if $tabs &amp;&amp; [[ `$binary --serverlist` = &quot;VIM&quot; ]]; then
    exec &quot;$binary&quot; -g $opts --remote-tab-silent ${1:+&quot;$@&quot;}
  else
    exec &quot;$binary&quot; -g $opts ${1:+&quot;$@&quot;}
  fi
else
  exec &quot;$binary&quot; $opts ${1:+&quot;$@&quot;}
fi
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://jaykon.github.io/2014/06/11/vim/" data-id="cim4apr6o000040uvyefyetz2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开发/">开发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/开发/" style="font-size: 10px;">开发</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/03/21/Apple-iOS-Rejects-Collection/">Apple iOS Rejects Collection</a>
          </li>
        
          <li>
            <a href="/2016/03/15/Git的日常/">Git的日常</a>
          </li>
        
          <li>
            <a href="/2014/11/12/sheng-ji-yosemite-xcode6-hou-,cocoapodswen-ti/">升级Yosemite + Xcode6 后，cocoapods问题</a>
          </li>
        
          <li>
            <a href="/2014/10/29/ioskai-fa-zhong-de-xiao-po-shi/">iOS开发中的小破事</a>
          </li>
        
          <li>
            <a href="/2014/07/19/shen-he-bei-ju-,jian-cha-di-san-fang-jie-kou-bei-diao-yong-qing-kuang/">审核被拒，检查第三方接口被调用情况</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 jaykon<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>