<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MACVIM 上手笔记 | Developer J.K. | 明明可以靠颜值吃饭但偏偏想要写代码做产品的jaykon</title>

  
  <meta name="author" content="jaykon">
  

  
  <meta name="description" content="iOS,php,mysql,objective-c,javascript,html,html5">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="MACVIM 上手笔记"/>

  <meta property="og:site_name" content="Developer J.K."/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Developer J.K." type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Developer J.K.</a>
    </h1>
    <p class="site-description">明明可以靠颜值吃饭但偏偏想要写代码做产品的jaykon</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>MACVIM 上手笔记</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/06/11/vim/" rel="bookmark">
        <time class="entry-date published" datetime="2014-06-11T03:16:21.000Z">
          2014-06-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>重新配置时，顺手重新整理一下这篇文章</p>
<p>##一、安装、配置</p>
<p>先下载它吧<br><a href="https://github.com/b4winckler/macvim/releases" target="_blank" rel="external">https://github.com/b4winckler/macvim/releases</a></p>
<p>安装完毕后，运行，发现不对，传说中的透明背景呢？别急，这里先配置一下：</p>
<p>Edit-&gt;StartUp Settig</p>
<pre><code>&quot;不兼容vi模式
set nocompatible
&quot;显示行号
set number
&quot;语法高亮
syntax on
&quot;按照C语法自动缩进
set cindent
&quot;设置缩进长度
&quot;详见http://dddspace.com/2010/03/vim-indentation-and-space-config.html
set tabstop=8
set shiftwidth=8
set softtabstop=8
set noexpandtab
&quot;显示括号对应
set showmatch
&quot;实时显示搜索结果
set incsearch
&quot;编码设置
set encoding=utf-8
set fileencodings=gb2312,ucs-bom,utf-8,utf-16,cp936,gb18030,big5,euc-jp,euc-kr,latin1
&quot;字体设置
set guifont=Arial_monospaced_for_SAP:h16
&quot;设置颜色主题
colorscheme torte
&quot;设置透明度
set transparency=20
</code></pre><p>保存重启即可。</p>
<p>##二：插件</p>
<p>装其它插件前，强列建义先安装pathogen.vim，它将大大减轻你管理和安装插件的复杂度。</p>
<p>pathogen.vimi<br><a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="external">https://github.com/tpope/vim-pathogen</a></p>
<pre><code>mkdir -p ~/.vim/autoload ~/.vim/bundle &amp;&amp; \
curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim
</code></pre><p>word_complete.vim  <a href="http://www.vim.org/scripts/script.php?script_id=73" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=73</a></p>
<p>一个自动补全的插件，它是跟据上下文进行的补全的，挺好用的</p>
<p>ZenCoding.vim  <a href="http://www.vim.org/scripts/script.php?script_id=2981" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=2981</a></p>
<p>有写HTML的对应个应该很清楚</p>
<p>The NERD tree<br><a href="http://www.vim.org/scripts/script.php?script_id=1658" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=1658</a></p>
<p>目录浏览，安装后默认不调用，可以配置快捷将其调用与隐藏<br>let mapleader = “,”<br>nmap n :NERDTreeToggle<br>这样，&lt;,+n&gt;即可调用</p>
<p>The NERD Commenter<br><a href="http://www.vim.org/scripts/script.php?script_id=1218）" target="_blank" rel="external">http://www.vim.org/scripts/script.php?script_id=1218）</a></p>
<p>在normal模式下进行快速注释，我常用到就下面几个：</p>
<p>&lt;,+cc&gt;注释当前行，或所选行，</p>
<p>&lt;,+space&gt;切换注释和不注释</p>
<p>&lt;,+cs&gt;多行注释</p>
<p>前面可以加数字来指定注释行数</p>
<p>syntastic<br><a href="https://github.com/scrooloose/syntastic" target="_blank" rel="external">https://github.com/scrooloose/syntastic</a></p>
<p>代码语法检查的接口，下载好后还是一样，放到buddle文件夹自动加载。</p>
<p>然后配置vimrc</p>
<pre><code>&quot;&quot;syntax
&quot;&quot; Set symbol characters
let g:syntastic_error_symbol=&apos;✗&apos;
let g:syntastic_warning_symbol=&apos;⚠&apos;
&quot;在打开文件的时候检查
let g:syntastic_check_on_open=1
&quot;&quot; Open and close error list console automatically
&quot;let g:syntastic_auto_loc_list=1
</code></pre><p>由于各个语言是要分别配置的，所以比较麻烦。</p>
<p>###php:</p>
<p>php比较方便，打开syntax_checkers/php.vim</p>
<p>找到display_errors=0改为display_errors=1</p>
<p>配置vimrc：</p>
<pre><code>et g:syntastic_phpcs_conf = &quot;--tab-width=4 --standard=CodeIgniter&quot;
let g:syntastic_stl_format = &apos;[%E{Err: %fe #%e}%B{, }%W{Warn: %fw #%w}]&apos;
</code></pre><p>这样就OK了，每次打开或保存时都会检查语法。</p>
<p>###javascript:</p>
<p>这个有点麻烦，要用到jshint</p>
<p>首先要安装npm，一个nodejs模块打包安装命令。</p>
<p><a href="http://nodejs.org/download/" target="_blank" rel="external">http://nodejs.org/download/</a></p>
<p>安装完毕之后，在终端执行下面指令，安装jshint：</p>
<pre><code>sudo npm install jshint -g
</code></pre><p>输入密码，回车</p>
<p>等它安装完后，输入终端jshint,有响应即代表安装成功。</p>
<p>然后配置vimrc：</p>
<pre><code>&quot;&quot; Choose a Javascript syntax checker
let g:syntastic_javascript_syntax_checker=&quot;jshint&quot;
let g:syntastic_javascript_jshint_conf=&quot;~/jshintrc.json&quot;
</code></pre><p>可以看到上面有个路径”~/jshintrc.json”，它用来配置检查器的风格，这是jshint和jslint最大的区别。</p>
<p>新建一个json文件，/用户/[yourname]/jshintrc.json，内容如下：</p>
<p>{curly:true}</p>
<p>意思为在if/for等block必须使用{}，否则报错，更多配置请移步</p>
<p><a href="http://jshint.org/docs/" target="_blank" rel="external">http://jshint.org/docs/</a></p>
<p>##三、技巧</p>
<p>###1）转编码：<br>在Vim中直接进行转换文件编码,比如将一个文件转换成utf-8格式</p>
<p>   :set fileencoding=utf-8</p>
<p>enconv 转换文件编码，比如要将一个GBK编码的文件转换成UTF-8编码，操作如下</p>
<p>enconv -L zh_CN -x UTF-8 filename（这个命令对windows的ANSI编码非常有效）。</p>
<p>iconv 转换，iconv的命令格式如下：</p>
<p>iconv -f encoding -t encoding inputfile</p>
<p>比如将一个UTF-8 编码的文件转换成GBK编码</p>
<p>iconv -f GBK -t UTF-8 file1 -o file2</p>
<p>###2）查找替换</p>
<pre><code>:%s/foo/bar/g
Find each occurrence of ‘foo’ (in all lines), and replace it with ‘bar’.
:s/foo/bar/g
Find each occurrence of ‘foo’ (in the current line only), and replace it with ‘bar’.
:%s/foo/bar/gc
Change each ‘foo’ to ‘bar’, but ask for confirmation first.
:%s/\&lt;foo\&gt;/bar/gc
Change only whole words exactly matching ‘foo’ to ‘bar’; ask for confirmation.
:%s/foo/bar/gci
Change each ‘foo’ (case insensitive) to ‘bar’; ask for confirmation.
This may be wanted after using :set noignorecase to make searches case sensitive (the default).
:%s/foo/bar/gcI
Change each ‘foo’ (case sensitive) to ‘bar’; ask for confirmation.
This may be wanted after using :set ignorecase to make searches case insensitive.
</code></pre><p>##四、问题</p>
<p>###中文输入法：<br>我用的是QQ五笔，但在编辑模式中输入中文时，常常会触发MacVim的命令，原因是输是输入法没有完全截获按键；<br>解决方法:在命令行输入以下命令</p>
<pre><code>defaults write org.vim.MacVim MMUseInlineIm 0
</code></pre><p>##五、在终端启动</p>
<p>下载后有一个mvim文件，将其拷贝到<br>    $sudo cp -f mvim /usr/bin/</p>
<p>这里在终端通过mvim指令即可运行或编辑文件，编辑文件每次都是新建窗口，让他支持tab可以编辑这个mvim文件，首行加上<br>Shell</p>
<pre><code>tabs=true
</code></pre><p>然后最后一个if 块替换成</p>
<pre><code># Last step:  fire up vim.
if [ &quot;$gui&quot; ]; then
  if $tabs &amp;&amp; [[ `$binary --serverlist` = &quot;VIM&quot; ]]; then
    exec &quot;$binary&quot; -g $opts --remote-tab-silent ${1:+&quot;$@&quot;}
  else
    exec &quot;$binary&quot; -g $opts ${1:+&quot;$@&quot;}
  fi
else
  exec &quot;$binary&quot; $opts ${1:+&quot;$@&quot;}
fi
</code></pre>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>

  
	<div id="comment">
	
	
	<!-- 多说评论框 start -->
	 <div class="ds-thread" data-thread-key="/2014/06/11/vim/" data-title="MACVIM 上手笔记" data-url="http://jaykon.github.io/2014/06/11/vim/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"blogjaykon"};
	  (function() {
	    var ds = document.createElement('script');
	    ds.type = 'text/javascript';ds.async = true;
	    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	    ds.charset = 'UTF-8';
	    (document.getElementsByTagName('head')[0] 
	     || document.getElementsByTagName('body')[0]).appendChild(ds);
	  })();
	  </script>
	<!-- 多说公共JS代码 end -->
	
	</div>




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 jaykon
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>